L1:
PUSH BP
MOV BP,SP
PUSH R0
PUSH R0
MOV R1,BP
MOV R2,-3
ADD R1,R2
MOV R0,[R1]
MOV R2,BP
MOV R3,-4
ADD R2,R3
MOV R1,[R2]
GT R0,R1
JZ R0,L5
MOV R0,BP
MOV R1,1
ADD R0,R1
PUSH R0
MOV R2,BP
MOV R3,-4
ADD R2,R3
MOV R1,[R2]
PUSH R1
MOV R2,BP
MOV R3,-3
ADD R2,R3
MOV R1,[R2]
PUSH R1
PUSH R0
CALL L2
POP R1
POP R2
POP R2
POP R0
MOV [R0],R1
MOV R0,BP
MOV R1,2
ADD R0,R1
PUSH R0
MOV R2,BP
MOV R3,-4
ADD R2,R3
MOV R1,[R2]
PUSH R1
MOV R2,BP
MOV R3,1
ADD R2,R3
MOV R1,[R2]
MOV R2,1
SUB R1,R2
PUSH R1
PUSH R0
CALL L1
POP R1
POP R2
POP R2
POP R0
MOV [R0],R1
MOV R0,BP
MOV R1,2
ADD R0,R1
PUSH R0
MOV R2,BP
MOV R3,1
ADD R2,R3
MOV R1,[R2]
MOV R2,1
ADD R1,R2
PUSH R1
MOV R2,BP
MOV R3,-3
ADD R2,R3
MOV R1,[R2]
PUSH R1
PUSH R0
CALL L1
POP R1
POP R2
POP R2
POP R0
MOV [R0],R1
JMP L6
L5:
L6:
MOV R0,11
MOV R1,BP
MOV R2,2
SUB R1,R2
MOV [R1],R0
POP R0
POP R0
POP BP
RET

L4:
PUSH BP
MOV BP,SP
PUSH R0
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R2,BP
MOV R3,-4
ADD R2,R3
MOV R1,[R2]
MOV [R0],R1
MOV R0,BP
MOV R1,-4
ADD R0,R1
MOV R2,BP
MOV R3,-3
ADD R2,R3
MOV R1,[R2]
MOV [R0],R1
MOV R0,BP
MOV R1,-3
ADD R0,R1
MOV R2,BP
MOV R3,1
ADD R2,R3
MOV R1,[R2]
MOV [R0],R1
MOV R0,1
MOV R1,BP
MOV R2,2
SUB R1,R2
MOV [R1],R0
POP R0
POP BP
RET

L3:
PUSH BP
MOV BP,SP
PUSH R0
MOV R0,BP
MOV R1,1
ADD R0,R1
PUSH R0
MOV R2,BP
MOV R3,-4
ADD R2,R3
MOV R1,[R2]
PUSH R1
MOV R2,BP
MOV R3,-3
ADD R2,R3
MOV R1,[R2]
PUSH R1
PUSH R0
CALL L4
POP R1
POP R2
MOV R3,BP
MOV R4,-3
ADD R3,R4
MOV [R3],R2
POP R2
MOV R3,BP
MOV R4,-4
ADD R3,R4
MOV [R3],R2
POP R0
MOV [R0],R1
MOV R0,1
MOV R1,BP
MOV R2,2
SUB R1,R2
MOV [R1],R0
POP R0
POP BP
RET

L2:
PUSH BP
MOV BP,SP
PUSH R0
PUSH R0
PUSH R0
PUSH R0
MOV R0,BP
MOV R1,3
ADD R0,R1
MOV R2,0
MOV R4,BP
MOV R5,-4
ADD R4,R5
MOV R3,[R4]
ADD R2,R3
MOV R1,[R2]
MOV [R0],R1
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R2,BP
MOV R3,-4
ADD R2,R3
MOV R1,[R2]
MOV [R0],R1
MOV R0,BP
MOV R1,2
ADD R0,R1
MOV R2,BP
MOV R3,-3
ADD R2,R3
MOV R1,[R2]
MOV [R0],R1
L7:
MOV R1,BP
MOV R2,1
ADD R1,R2
MOV R0,[R1]
MOV R2,BP
MOV R3,2
ADD R2,R3
MOV R1,[R2]
LT R0,R1
JZ R0,L8
L9:
MOV R1,0
MOV R3,BP
MOV R4,1
ADD R3,R4
MOV R2,[R3]
ADD R1,R2
MOV R0,[R1]
MOV R2,BP
MOV R3,3
ADD R2,R3
MOV R1,[R2]
LE R0,R1
JZ R0,L10
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R2,BP
MOV R3,1
ADD R2,R3
MOV R1,[R2]
MOV R2,1
ADD R1,R2
MOV [R0],R1
JMP L9
L10:
L11:
MOV R1,0
MOV R3,BP
MOV R4,2
ADD R3,R4
MOV R2,[R3]
ADD R1,R2
MOV R0,[R1]
MOV R2,BP
MOV R3,3
ADD R2,R3
MOV R1,[R2]
GT R0,R1
JZ R0,L12
MOV R0,BP
MOV R1,2
ADD R0,R1
MOV R2,BP
MOV R3,2
ADD R2,R3
MOV R1,[R2]
MOV R2,1
SUB R1,R2
MOV [R0],R1
JMP L11
L12:
MOV R1,BP
MOV R2,1
ADD R1,R2
MOV R0,[R1]
MOV R2,BP
MOV R3,2
ADD R2,R3
MOV R1,[R2]
LT R0,R1
JZ R0,L13
MOV R0,BP
MOV R1,4
ADD R0,R1
PUSH R0
MOV R2,0
MOV R4,BP
MOV R5,1
ADD R4,R5
MOV R3,[R4]
ADD R2,R3
MOV R1,[R2]
PUSH R1
MOV R2,0
MOV R4,BP
MOV R5,2
ADD R4,R5
MOV R3,[R4]
ADD R2,R3
MOV R1,[R2]
PUSH R1
PUSH R0
CALL L3
POP R1
POP R2
MOV R3,0
MOV R5,BP
MOV R6,2
ADD R5,R6
MOV R4,[R5]
ADD R3,R4
MOV [R3],R2
POP R2
MOV R3,0
MOV R5,BP
MOV R6,1
ADD R5,R6
MOV R4,[R5]
ADD R3,R4
MOV [R3],R2
POP R0
MOV [R0],R1
JMP L14
L13:
L14:
JMP L7
L8:
MOV R0,0
MOV R2,0
MOV R4,BP
MOV R5,2
ADD R4,R5
MOV R3,[R4]
ADD R2,R3
MOV R1,[R2]
MOV R3,BP
MOV R4,-4
ADD R3,R4
MOV R2,[R3]
ADD R0,R2
MOV [R0],R1
MOV R0,0
MOV R2,BP
MOV R3,3
ADD R2,R3
MOV R1,[R2]
MOV R3,BP
MOV R4,2
ADD R3,R4
MOV R2,[R3]
ADD R0,R2
MOV [R0],R1
MOV R1,BP
MOV R2,2
ADD R1,R2
MOV R0,[R1]
MOV R1,BP
MOV R2,2
SUB R1,R2
MOV [R1],R0
POP R0
POP R0
POP R0
POP R0
POP BP
RET

START
MOV SP,0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH BP
MOV BP,SP
PUSH R0
PUSH R0
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R1,1
MOV [R0],R1
L15:
MOV R1,BP
MOV R2,1
ADD R1,R2
MOV R0,[R1]
MOV R1,10
LE R0,R1
JZ R0,L16
MOV R0,0
IN R1
MOV R3,BP
MOV R4,1
ADD R3,R4
MOV R2,[R3]
ADD R0,R2
MOV [R0],R1
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R2,BP
MOV R3,1
ADD R2,R3
MOV R1,[R2]
MOV R2,1
ADD R1,R2
MOV [R0],R1
JMP L15
L16:
MOV R0,BP
MOV R1,2
ADD R0,R1
PUSH R0
MOV R1,0
PUSH R1
MOV R1,10
PUSH R1
PUSH R0
CALL L1
POP R1
POP R2
POP R2
POP R0
MOV [R0],R1
MOV R0,111111111
OUT R0
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R1,1
MOV [R0],R1
L17:
MOV R1,BP
MOV R2,1
ADD R1,R2
MOV R0,[R1]
MOV R1,10
LE R0,R1
JZ R0,L18
MOV R1,0
MOV R3,BP
MOV R4,1
ADD R3,R4
MOV R2,[R3]
ADD R1,R2
MOV R0,[R1]
OUT R0
MOV R0,BP
MOV R1,1
ADD R0,R1
MOV R2,BP
MOV R3,1
ADD R2,R3
MOV R1,[R2]
MOV R2,1
ADD R1,R2
MOV [R0],R1
JMP L17
L18:
POP R0
POP R0
POP BP
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
POP R0
HALT
